<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Traversal vs. URL Dispatch &mdash; Python Notes 0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/css/customizations.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="Python Notes 0 documentation" href="../../../index.html" />
    <link rel="up" title="pyramid" href="../pyramid.html" />
    <link rel="next" title="URL Dispatch" href="dispatch_app/url_dispatch.html" />
    <link rel="prev" title="Pyramid Auth w/ User Model, Hybrid Traversal, &amp; Resource Matching" href="../pyramid_authentication_with_database/full_pyramid_auth.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="traversal-vs-url-dispatch">
<h1>Traversal vs. URL Dispatch<a class="headerlink" href="#traversal-vs-url-dispatch" title="Permalink to this headline">¶</a></h1>
<p>Pyramid is a marraige of <code class="docutils literal"><span class="pre">repoze.bfg</span></code> and <code class="docutils literal"><span class="pre">pylons</span></code>.</p>
<p>Because of this marriage, there&#8217;s two fundamentally different ways to handle application structure:</p>
<ul class="simple">
<li><strong>URL Dispatch</strong>: defined by <em>routes</em> (a concept inherited from <code class="docutils literal"><span class="pre">pylons</span></code>)</li>
<li><strong>Traversal</strong>: defined by <em>resources</em> (a concept inherited from <code class="docutils literal"><span class="pre">repoze.bfg</span></code>)</li>
</ul>
<p>Because pyramid is a <em>micro-framework</em> and does not restrict developrs to a specific structure, URL Dispatch and Traversal can coexist withing the same application as Hybrid Traversal.</p>
<ul class="simple">
<li><strong>Hybrid Traversal</strong>: defined by <em>routes</em> that have their own <em>resource</em> structure</li>
</ul>
<p>This doc &amp; it&#8217;s children aim at demistifying the similarities and differences between these structures.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="dispatch_app/url_dispatch.html">URL Dispatch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dispatch_app/url_dispatch.html#generating-urls-w-url-dispatch">Generating URLS w/ URL Dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatch_app/url_dispatch.html#prefixing-route-paths">Prefixing Route Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatch_app/url_dispatch.html#route-factories-context-w-url-dispatch">Route Factories &amp; Context w/ URL Dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="dispatch_app/url_dispatch.html#custom-route-predicates">Custom Route Predicates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="traversal_app/traversal.html">Traversal</a><ul>
<li class="toctree-l2"><a class="reference internal" href="traversal_app/traversal.html#the-resource-tree">The Resource Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="traversal_app/traversal.html#traversing-the-resource-tree-aka-resource-location">Traversing The Resource Tree aka Resource Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="traversal_app/traversal.html#view-callables-in-traversal">View Callables in Traversal</a></li>
<li class="toctree-l2"><a class="reference internal" href="traversal_app/traversal.html#generating-urls-paths-in-traversal">Generating URLs &amp; Paths in Traversal</a></li>
<li class="toctree-l2"><a class="reference internal" href="traversal_app/traversal.html#containment-interfaces">Containment &amp; Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="traversal_app/traversal.html#troubleshooting-traversal-best-practices">Troubleshooting Traversal &amp; Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hybrid_app/hybrid_traversal.html">Hybrid Traversal</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hybrid_app/hybrid_traversal.html#routes-views-in-hybrid-traversal">Routes &amp; Views in Hybrid Traversal</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="which-should-i-use-and-why">
<h2>Which Should I Use and Why?<a class="headerlink" href="#which-should-i-use-and-why" title="Permalink to this headline">¶</a></h2>
<p><strong>Which type is most appropriate for my application?</strong></p>
<p>A pyramid application isn&#8217;t bound to using just one of these 3 mapping patterns; Traversal, URL Dispatch, &amp; Hybrid Traversal can all exist within the same application!</p>
<p>That being said, it&#8217;s usually best to start with one of URL Dispatch or Traversal. When the need arises to borrow features from the other structure, borrow the functionality as needed!</p>
<p>Below will help you decide which scheme to start off with.</p>
<div class="section" id="when-should-i-use-url-dispatch">
<h3>When Should I Use URL Dispatch?<a class="headerlink" href="#when-should-i-use-url-dispatch" title="Permalink to this headline">¶</a></h3>
<p><strong>Most Always</strong></p>
<p>URL Dispatch is similar to <code class="docutils literal"><span class="pre">pylons</span></code>&#8216;s concept of routes.</p>
<p>URL Dispatch is the most straightforward and explicit pathing scheme. With URL Dispatch it&#8217;s very easy to tell which routes exist, which views match up to those routes, and what resources/contexts are being supplied to those views.</p>
<p>Additionally, though URL Dispatch might not get to crawl a bunch of resources to ensure the integrity of a model, it can provide the necessary resource/context in a very straightforward manor using the RouteFactory and matchdict to run one or two targeted queries.</p>
<div class="section" id="reasons-to-use-url-dispatch">
<h4>Reasons To Use URL Dispatch<a class="headerlink" href="#reasons-to-use-url-dispatch" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Application is more static than dynamic</li>
<li>Views are typically small and model-independent</li>
<li>Views aren less sensitive on model hierarchy, or only worry about the object they have</li>
<li>Permissions aren&#8217;t nested or complex (dynamic is okay)</li>
<li>User-generated content is defined by the application</li>
</ul>
</div>
</div>
<div class="section" id="when-should-i-use-traversal">
<h3>When Should I Use Traversal?<a class="headerlink" href="#when-should-i-use-traversal" title="Permalink to this headline">¶</a></h3>
<p><strong>Usually Never</strong></p>
<p>Traversal is the baby of <code class="docutils literal"><span class="pre">repoze.bfg</span></code>.</p>
<p>Traversal applications are defined by and are completely dependent on the resource tree of the application. This obfuscates a lot of things that are very transparent in URL Dispatch like the URLs/paths for specific pages or routing to specific views.</p>
<p>That being said, Traversal&#8217;s defining feature is the reason why you would use it: <em>application structure is tied to the resource tree</em>. This means that applications that rely on a complex model can likely be served better served as a Traversal application. This way, instead of defining routes &amp; views that work alongside the model, the model can define the routes and the views can be integrated as needed.</p>
<div class="section" id="reasons-to-use-traversal">
<h4>Reasons To Use Traversal<a class="headerlink" href="#reasons-to-use-traversal" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Application &amp; routing is highly dependent on the model</li>
<li>Views and templates are less context-sensitive (doesn&#8217;t care what context you give it)</li>
<li>Model exists before application, &amp; application is highly-dependent on model</li>
<li>User-generated content is defined by the model</li>
<li>Application content is reliant on complex user-generated content model</li>
</ul>
</div>
</div>
<div class="section" id="when-should-i-use-hybrid-traversal">
<h3>When Should I Use Hybrid Traversal?<a class="headerlink" href="#when-should-i-use-hybrid-traversal" title="Permalink to this headline">¶</a></h3>
<p><strong>When you need to</strong></p>
<p>Hybrid Traversal, being a combination of both structures, should be used when your application desires functionality from the other method.</p>
<p>Unless you know from the initialization of the project that you&#8217;ll need Hybrid Traversal, start with either URL Dispatch or Traversal. Develop the application using said method until you reach a point where you want to leverage a feature from the other method.</p>
<div class="section" id="reasons-to-use-hybrid-traversal">
<h4>Reasons To Use Hybrid Traversal<a class="headerlink" href="#reasons-to-use-hybrid-traversal" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Application was developed with URL Dispatch but wants to leverage Traversal for one or more routes.</li>
<li>Application was developed with Traversal but wants routes defined for different resource trees, more staticly defined routes, etc.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="a-quick-comparison">
<h2>A Quick Comparison<a class="headerlink" href="#a-quick-comparison" title="Permalink to this headline">¶</a></h2>
<p>Below is a breakdown of URL Dispatch vs Traversal in table form</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="29%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">How does it handle...</th>
<th class="head">URL Dispatch</th>
<th class="head">Traversal</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>App Configuration</td>
<td>Routes added to <code class="docutils literal"><span class="pre">Configurator</span></code></td>
<td>RootFactory for resource tree defined in <code class="docutils literal"><span class="pre">Configurator</span></code></td>
</tr>
<tr class="row-odd"><td>Matching views to request urls</td>
<td>path matches route_name&#8217;s pattern</td>
<td>leaf-resource &amp; view_name match a view callable&#8217;s view_config</td>
</tr>
<tr class="row-even"><td>View Configuration</td>
<td><code class="docutils literal"><span class="pre">&#64;view_config(route_name=&quot;&quot;)</span></code></td>
<td><code class="docutils literal"><span class="pre">&#64;view_config(name=&quot;&quot;,</span> <span class="pre">context=ResourceCls)</span></code></td>
</tr>
<tr class="row-odd"><td>View *args</td>
<td><code class="docutils literal"><span class="pre">view(request):</span></code></td>
<td><code class="docutils literal"><span class="pre">view(context,</span> <span class="pre">request):</span></code> <em>or</em> <code class="docutils literal"><span class="pre">view(request):</span></code></td>
</tr>
<tr class="row-even"><td>Generating URLs</td>
<td><code class="docutils literal"><span class="pre">request.route_url(&quot;&quot;)</span></code></td>
<td><code class="docutils literal"><span class="pre">request.resource_url(resource,</span> <span class="pre">&quot;view_name&quot;)</span></code></td>
</tr>
<tr class="row-odd"><td>Route Factories</td>
<td>Per-route, w/ RootFactory default</td>
<td>All part of one large resource tree, starting w/ RootFactory</td>
</tr>
<tr class="row-even"><td>Resource Tree</td>
<td><code class="docutils literal"><span class="pre">request.matchdict</span></code> to get context</td>
<td><code class="docutils literal"><span class="pre">context</span> <span class="pre">=</span> <span class="pre">resource.__getitem__(key)</span></code> recursively</td>
</tr>
<tr class="row-odd"><td>Resources/context</td>
<td>Location un-aware</td>
<td><strong>Must</strong> be location aware (<code class="docutils literal"><span class="pre">__name__</span></code> &amp; <code class="docutils literal"><span class="pre">__parent__</span></code>)</td>
</tr>
</tbody>
</table>
<p>Notice that <em>URL Dispatch relies more on the applications structure</em> while <em>Traversal is more dependent on the resource tree&#8217;s structure</em>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Traversal vs. URL Dispatch</a><ul>
<li><a class="reference internal" href="#which-should-i-use-and-why">Which Should I Use and Why?</a><ul>
<li><a class="reference internal" href="#when-should-i-use-url-dispatch">When Should I Use URL Dispatch?</a><ul>
<li><a class="reference internal" href="#reasons-to-use-url-dispatch">Reasons To Use URL Dispatch</a></li>
</ul>
</li>
<li><a class="reference internal" href="#when-should-i-use-traversal">When Should I Use Traversal?</a><ul>
<li><a class="reference internal" href="#reasons-to-use-traversal">Reasons To Use Traversal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#when-should-i-use-hybrid-traversal">When Should I Use Hybrid Traversal?</a><ul>
<li><a class="reference internal" href="#reasons-to-use-hybrid-traversal">Reasons To Use Hybrid Traversal</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#a-quick-comparison">A Quick Comparison</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../pyramid.html">pyramid</a><ul>
      <li>Previous: <a href="../pyramid_authentication_with_database/full_pyramid_auth.html" title="previous chapter">Pyramid Auth w/ User Model, Hybrid Traversal, &amp; Resource Matching</a></li>
      <li>Next: <a href="dispatch_app/url_dispatch.html" title="next chapter">URL Dispatch</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/python_libraries/pyramid/pyramid_traversal_vs_dispatch/pyramid_traversal_vs_dispatch.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Maxwell G. Brown.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../../../_sources/python_libraries/pyramid/pyramid_traversal_vs_dispatch/pyramid_traversal_vs_dispatch.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>